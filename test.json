{
    "schema": {
        "type": "object",
        "required": ["name", "age", "friends"],
        "additionalProperties": false,
        "properties": {
            "name": { "type": "string" },
            "age": { "type": "number" },
            "friends": {
                "type": "array",
                "items": {
                    "type": "object",
                    "required": ["name", "age"],
                    "properties": {
                        "name": { "type": "string" },
                        "age": { "type": "number" }
                    }
                }
            }
        }
    },
    "policy": "output.age=input.age===input.friends[0].age",
    "input": {
        "name": "Paul",
        "age": 23,
        "friends": [
            {
                "name": "Max",
                "age": 23
            },
            { "name": "Toby", "age": 27 }
        ]
    }
}
